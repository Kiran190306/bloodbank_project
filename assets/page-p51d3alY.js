import{C as r}from"./PolymorphicComponent-CPB_qS69.js";import{r as c,o as e,p as N}from"./chunk-JMJ3UQ3L-NvGUjwXk.js";import{c as w,D as B,R as S}from"./droplet-DzP8lk1O.js";import{S as A}from"./search-qL3S1H8t.js";import{M as g}from"./map-pin-Ci6ZpxQG.js";import{P as u}from"./phone-D1EhqHzX.js";if(typeof window<"u"){const a={};globalThis.process??(globalThis.process={});const l=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},a,l),{get(n,t){return t in n?n[t]:void 0},has(){return!0}})}const _=w("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);if(typeof window<"u"){const a={};globalThis.process??(globalThis.process={});const l=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},a,l),{get(n,t){return t in n?n[t]:void 0},has(){return!0}})}function T(){const[a,l]=c.useState("donors"),[n,t]=c.useState(""),[o,b]=c.useState(""),[i,j]=c.useState([]),[x,h]=c.useState(!1),[I,y]=c.useState(!1),v=async s=>{s.preventDefault(),h(!0),y(!0);try{const d=new URLSearchParams;n&&d.append("blood_group",n),o&&d.append("city",o),a==="donors"&&d.append("available","true");const p=await fetch(`${a==="donors"?"/api/donors":"/api/blood-banks"}?${d.toString()}`);if(p.ok){const f=await p.json();j(a==="donors"?f.donors:f.bloodBanks)}}catch(d){console.error(d)}finally{h(!1)}},m=({type:s})=>{const d={"A+":"bg-red-100 text-red-700","A-":"bg-red-100 text-red-700","B+":"bg-blue-100 text-blue-700","B-":"bg-blue-100 text-blue-700","AB+":"bg-purple-100 text-purple-700","AB-":"bg-purple-100 text-purple-700","O+":"bg-green-100 text-green-700","O-":"bg-green-100 text-green-700"};return e.jsx(r,{className:`px-3 py-1 rounded-full text-sm font-semibold ${d[s]||"bg-gray-100 text-gray-700"}`,renderId:"render-c15f55d9",as:"span",children:s})};return e.jsxs(r,{className:"min-h-screen bg-gray-50",renderId:"render-a16ac79d",as:"div",children:[e.jsx(r,{className:"border-b border-gray-200 bg-white",renderId:"render-0ebafe99",as:"nav",children:e.jsx(r,{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",renderId:"render-e4a10186",as:"div",children:e.jsxs(r,{className:"flex justify-between items-center h-16",renderId:"render-52fe73ef",as:"div",children:[e.jsxs(r,{href:"/",className:"flex items-center gap-2",renderId:"render-9697d4b7",as:"a",children:[e.jsx(r,{className:"bg-red-600 p-2 rounded-lg",renderId:"render-2ba4ea95",as:"div",children:e.jsx(B,{className:"w-6 h-6 text-white"})}),e.jsx(r,{className:"text-xl font-bold text-gray-900",renderId:"render-a1ae7436",as:"span",children:"BloodConnect"})]}),e.jsxs(r,{className:"flex items-center gap-4",renderId:"render-fa21f282",as:"div",children:[e.jsx(r,{href:"/dashboard",className:"text-gray-700 hover:text-red-600 font-medium",renderId:"render-f7dace58",as:"a",children:"Dashboard"}),e.jsx(r,{href:"/emergency",className:"text-gray-700 hover:text-red-600 font-medium",renderId:"render-508acafe",as:"a",children:"Emergency Request"})]})]})})}),e.jsxs(r,{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",renderId:"render-da1ff508",as:"div",children:[e.jsxs(r,{className:"text-center mb-12",renderId:"render-2f771bf1",as:"div",children:[e.jsx(r,{className:"text-4xl font-bold text-gray-900 mb-4",renderId:"render-641f745d",as:"h1",children:"Find Blood Donors & Banks"}),e.jsx(r,{className:"text-xl text-gray-600",renderId:"render-59e30bab",as:"p",children:"Search for available donors or blood banks in your area"})]}),e.jsx(r,{className:"bg-white rounded-2xl shadow-lg p-8 mb-8",renderId:"render-1cda9182",as:"div",children:e.jsx(r,{onSubmit:v,renderId:"render-2c901dbc",as:"form",children:e.jsxs(r,{className:"grid md:grid-cols-4 gap-4 mb-6",renderId:"render-325e29b7",as:"div",children:[e.jsxs(r,{className:"space-y-2",renderId:"render-b184022c",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-gray-700",renderId:"render-413a7dbc",as:"label",children:"Search For"}),e.jsxs(r,{value:a,onChange:s=>l(s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",renderId:"render-90d4a781",as:"select",children:[e.jsx(r,{value:"donors",renderId:"render-022507dc",as:"option",children:"Blood Donors"}),e.jsx(r,{value:"banks",renderId:"render-8e4278d6",as:"option",children:"Blood Banks"})]})]}),e.jsxs(r,{className:"space-y-2",renderId:"render-4a9b75dc",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-gray-700",renderId:"render-3a66ace9",as:"label",children:"Blood Group"}),e.jsxs(r,{value:n,onChange:s=>t(s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",renderId:"render-16f9d83f",as:"select",children:[e.jsx(r,{value:"",renderId:"render-95ef61c0",as:"option",children:"All Blood Groups"}),e.jsx(r,{value:"A+",renderId:"render-c263961d",as:"option",children:"A+"}),e.jsx(r,{value:"A-",renderId:"render-588579fd",as:"option",children:"A-"}),e.jsx(r,{value:"B+",renderId:"render-8c59ce8b",as:"option",children:"B+"}),e.jsx(r,{value:"B-",renderId:"render-b1e0158a",as:"option",children:"B-"}),e.jsx(r,{value:"AB+",renderId:"render-331b086e",as:"option",children:"AB+"}),e.jsx(r,{value:"AB-",renderId:"render-b716441b",as:"option",children:"AB-"}),e.jsx(r,{value:"O+",renderId:"render-47376f5e",as:"option",children:"O+"}),e.jsx(r,{value:"O-",renderId:"render-1c6169df",as:"option",children:"O-"})]})]}),e.jsxs(r,{className:"space-y-2",renderId:"render-c01e8576",as:"div",children:[e.jsx(r,{className:"block text-sm font-medium text-gray-700",renderId:"render-d2f3589e",as:"label",children:"City"}),e.jsx(r,{type:"text",value:o,onChange:s=>b(s.target.value),placeholder:"Enter city name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",renderId:"render-851d4dbc",as:"input"})]}),e.jsx(r,{className:"flex items-end",renderId:"render-1c3c0e48",as:"div",children:e.jsxs(r,{type:"submit",disabled:x,className:"w-full bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 font-medium flex items-center justify-center gap-2 disabled:opacity-50",renderId:"render-f929bb66",as:"button",children:[e.jsx(A,{className:"w-5 h-5"}),x?"Searching...":"Search"]})})]})})}),I&&e.jsxs(r,{renderId:"render-6b11d6de",as:"div",children:[e.jsx(r,{className:"mb-6",renderId:"render-ff227c65",as:"div",children:e.jsxs(r,{className:"text-2xl font-bold text-gray-900",renderId:"render-5fedfe58",as:"h2",children:[i.length," ",a==="donors"?"Donors":"Blood Banks"," Found"]})}),i.length===0?e.jsx(r,{className:"bg-white rounded-lg p-12 text-center",renderId:"render-647003d1",as:"div",children:e.jsx(r,{className:"text-gray-600 text-lg",renderId:"render-fd97aa1f",as:"p",children:"No results found. Try adjusting your search criteria."})}):e.jsx(r,{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",renderId:"render-577b7a39",as:"div",children:a==="donors"?i.map(s=>e.jsxs(r,{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",renderId:"render-739673a4",as:"div",children:[e.jsxs(r,{className:"flex justify-between items-start mb-4",renderId:"render-3ead0f9c",as:"div",children:[e.jsxs(r,{renderId:"render-ca989a85",as:"div",children:[e.jsx(r,{className:"text-lg font-semibold text-gray-900",renderId:"render-355c64ba",as:"h3",children:s.full_name}),s.is_verified&&e.jsx(r,{className:"text-xs text-green-600 font-medium",renderId:"render-3b1246b5",as:"span",children:"✓ Verified"})]}),e.jsx(m,{type:s.blood_group})]}),e.jsxs(r,{className:"space-y-2 text-sm text-gray-600",renderId:"render-c8f04e2d",as:"div",children:[s.city&&e.jsxs(r,{className:"flex items-center gap-2",renderId:"render-f2e28a78",as:"div",children:[e.jsx(g,{className:"w-4 h-4"}),e.jsxs(r,{renderId:"render-b5779a20",as:"span",children:[s.city,s.state?`, ${s.state}`:""]})]}),s.phone&&e.jsxs(r,{className:"flex items-center gap-2",renderId:"render-00c584ff",as:"div",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx(r,{renderId:"render-85385a7a",as:"span",children:s.phone})]}),s.last_donation_date&&e.jsxs(r,{className:"text-xs text-gray-500 mt-2",renderId:"render-65ab992f",as:"div",children:["Last donation:"," ",new Date(s.last_donation_date).toLocaleDateString()]})]})]},s.id)):i.map(s=>e.jsxs(r,{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",renderId:"render-1ebbda4e",as:"div",children:[e.jsxs(r,{className:"mb-4",renderId:"render-43a98351",as:"div",children:[e.jsx(r,{className:"text-lg font-semibold text-gray-900",renderId:"render-eb7ed19a",as:"h3",children:s.hospital_name}),s.is_verified&&e.jsx(r,{className:"text-xs text-green-600 font-medium",renderId:"render-7cc5bbe1",as:"span",children:"✓ Verified"})]}),e.jsxs(r,{className:"space-y-2 text-sm text-gray-600 mb-4",renderId:"render-c9df06a2",as:"div",children:[e.jsxs(r,{className:"flex items-start gap-2",renderId:"render-d0f5afa0",as:"div",children:[e.jsx(g,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsxs(r,{renderId:"render-33e9473e",as:"span",children:[s.address,", ",s.city,s.state?`, ${s.state}`:""]})]}),s.phone&&e.jsxs(r,{className:"flex items-center gap-2",renderId:"render-4fcab250",as:"div",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx(r,{renderId:"render-096a7092",as:"span",children:s.phone})]}),s.email&&e.jsxs(r,{className:"flex items-center gap-2",renderId:"render-a48261a4",as:"div",children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx(r,{className:"text-xs",renderId:"render-8d8b98ae",as:"span",children:s.email})]})]}),s.stock&&s.stock.length>0&&e.jsxs(r,{renderId:"render-989561cf",as:"div",children:[e.jsx(r,{className:"text-xs font-medium text-gray-700 mb-2",renderId:"render-7737b522",as:"div",children:"Available Stock:"}),e.jsx(r,{className:"flex flex-wrap gap-2",renderId:"render-4f755cb8",as:"div",children:s.stock.filter(d=>d.units_available>0).map(d=>e.jsxs(r,{className:"text-xs",renderId:"render-ef7c53a1",as:"div",children:[e.jsx(m,{type:d.blood_group}),e.jsxs(r,{className:"ml-1 text-gray-600",renderId:"render-4eb2a39f",as:"span",children:["(",d.units_available,")"]})]},d.blood_group))})]})]},s.id))})]})]})]})}if(typeof window<"u"){const a={};globalThis.process??(globalThis.process={});const l=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},a,l),{get(n,t){return t in n?n[t]:void 0},has(){return!0}})}const R=N(function(l){return e.jsx(S,{children:e.jsx(T,{...l})})});export{R as default};
